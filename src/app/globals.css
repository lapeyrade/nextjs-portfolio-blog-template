@import "tailwindcss";

@theme {
  --color-background: #ffffff;
  --color-foreground: #171717;
  --color-background-dark: #0a0a0a;
  --color-foreground-dark: #ededed;
  /* Accent defaults (ocean) */
  --accent: #22d3ee;
  /* cyan-400 */
  --accent-strong: #06b6d4;
  /* cyan-500 for better contrast on dark chips */
  --accent-contrast: #0b1020;
  --accent-grad-from: #22d3ee;
  /* cyan-400 */
  --accent-grad-to: #3b82f6;
  /* blue-500 */
  --surface-from: #0b1020;
  /* deep slate */
  --surface-via: #0b1935;
  /* navy */
  --surface-to: #0b1020;
  /* deep slate */
}

:root {
  --background: var(--color-background);
  --foreground: var(--color-foreground);
  --foreground-80: rgba(23, 23, 23, 0.8);
  --foreground-90: rgba(23, 23, 23, 0.9);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--color-background-dark);
    --foreground: var(--color-foreground-dark);
    --foreground-80: rgba(237, 237, 237, 0.8);
    --foreground-90: rgba(237, 237, 237, 0.9);
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

/* Theme tokens by data-theme */
[data-theme='ocean'] {
  --accent: #22d3ee;
  --accent-strong: #06b6d4;
  --accent-grad-from: #22d3ee;
  --accent-grad-to: #3b82f6;
  --surface-from: #0b1020;
  --surface-via: #0b1935;
  --surface-to: #0b1020;
}

[data-theme='sunset'] {
  --accent: #fb923c;
  /* orange-400 */
  --accent-strong: #f97316;
  /* orange-500 */
  --accent-grad-from: #fb923c;
  --accent-grad-to: #ef4444;
  /* red-500 */
  --surface-from: #1a0f0f;
  --surface-via: #2a0f1a;
  --surface-to: #1a0f0f;
}

[data-theme='forest'] {
  --accent: #34d399;
  /* emerald-400 */
  --accent-strong: #10b981;
  /* emerald-500 */
  --accent-grad-from: #34d399;
  --accent-grad-to: #22c55e;
  /* green-500 */
  --surface-from: #071710;
  --surface-via: #0b2a1f;
  --surface-to: #071710;
}

[data-theme='purple'] {
  --accent: #a78bfa;
  /* purple-400 */
  --accent-strong: #8b5cf6;
  /* purple-500 */
  --accent-grad-from: #a78bfa;
  --accent-grad-to: #f472b6;
  /* pink-400 */
  --surface-from: #0f172a;
  --surface-via: #3b0a45;
  --surface-to: #0f172a;
}

/* Extra themes */
[data-theme='rose'] {
  --accent: #fb7185;
  /* rose-400 */
  --accent-strong: #f43f5e;
  /* rose-500 */
  --accent-grad-from: #fb7185;
  --accent-grad-to: #f43f5e;
  --surface-from: #160b10;
  --surface-via: #1f0b15;
  --surface-to: #160b10;
}

[data-theme='aurora'] {
  /* unify to cyan tones to avoid mixed colors */
  --accent: #22d3ee;
  /* cyan-400 */
  --accent-strong: #06b6d4;
  /* cyan-500 */
  --accent-grad-from: #22d3ee;
  /* cyan-400 */
  --accent-grad-to: #06b6d4;
  /* cyan-500 */
  --surface-from: #0a1024;
  --surface-via: #0a1a2a;
  --surface-to: #0a1024;
}

/* mono theme removed */

/* Helpers */
.theme-surface {
  background: linear-gradient(135deg, var(--surface-from), var(--surface-via), var(--surface-to));
}

.btn-accent {
  background-image: linear-gradient(90deg, var(--accent-grad-from), var(--accent-grad-to));
  color: white;
}

.text-accent {
  color: var(--accent);
}

.text-accent-strong {
  color: var(--accent-strong);
}

/* Text color utilities */
.text-foreground {
  color: var(--foreground);
}

.text-foreground\/80 {
  color: var(--foreground-80);
}

.text-foreground\/90 {
  color: var(--foreground-90);
}

.border-accent {
  border-color: var(--accent);
}

.border-accent-strong {
  border-color: var(--accent-strong);
}

.text-accent-gradient {
  background-image: linear-gradient(90deg, var(--accent-grad-from), var(--accent-grad-to));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.accent-gradient-bg {
  background-image: linear-gradient(135deg, var(--accent-grad-from), var(--accent-grad-to));
}

/* Focus visibility for keyboard users */
*:focus-visible {
  outline: 3px solid var(--accent-strong);
  outline-offset: 3px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

/* Skip link styling */
.skip-link {
  position: absolute;
  top: 0;
  left: 0;
  transform: translateY(-100%);
  padding: 0.75rem 1rem;
  background: #111827;
  /* gray-900 */
  color: white;
  z-index: 50;
}

.skip-link:focus-visible {
  transform: translateY(0);
}

/* Respect reduced motion preference globally */
@media (prefers-reduced-motion: reduce) {
  html:focus-within {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Stop spinners if any */
  .animate-spin {
    animation: none !important;
  }
}

/* MDX code highlighting (rehype-pretty-code) */
pre code {
  counter-reset: line;
}

/* Code block container */
pre[data-theme] {
  background: #0b1020;
  border: 1px solid #1f2937;
  border-radius: 0.5rem;
  padding: 1rem;
  overflow: auto;
}

/* Inline code */
:not(pre)>code {
  background: #111827;
  color: #a78bfa;
  border: 1px solid #1f2937;
  padding: 0.15rem 0.35rem;
  border-radius: 0.375rem;
}

/* Callouts */
.callout {
  border-left: 4px solid #6b7280;
  background: rgba(31, 41, 55, 0.5);
  padding: 1rem;
  border-radius: 0.25rem;
}

.callout-note {
  border-color: #60a5fa;
}

.callout-tip {
  border-color: #34d399;
}

.callout-warning {
  border-color: #fbbf24;
}

.callout-important {
  border-color: #a78bfa;
}

.callout-caution {
  border-color: #f87171;
}

.callout-info {
  border-color: #93c5fd;
}

/* Links - ensure sufficient contrast and consistent visited color */
.prose a {
  color: var(--accent);
}

.prose a:visited {
  color: var(--accent-strong);
}

.link-accent {
  color: var(--accent);
}

.link-accent:visited {
  color: var(--accent-strong);
}